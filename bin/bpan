#!/bin/bash

set -e

# Setup BPAN, but only first time:
if [ -z "$BPAN_VERSION" ]; then
  BPAN_VERSION='0.0.1'
  # Simple 'die' command for bootstrapping.
  bpan:die() { echo "$@"; exit 1; }
fi

#------------------------------------------------------------------------------
# Determine how `bpan` was called, and do the right thing:
#------------------------------------------------------------------------------

if [ "${BASH_SOURCE[0]}" != "$0" ]; then
  # 'bpan' is being sourced by some other Bash library:
  source "${BASH_SOURCE[0]%/bin/*}"/lib/bpan.bash "$@"
elif [ $# -eq 0 ]; then
  # 'bpan' command run with no arguments
  # exec bpan-shell
  bpan:die "bpan-shell not yet implemented"
else
  # 'bpan' command with arguments. Run package installer
  # exec bpan-installer "$@"
  bpan:die "bpan-installer not yet implemented"
fi
