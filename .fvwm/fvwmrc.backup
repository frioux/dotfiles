#################################################################
#  ____________________________________				#
# (  __________________________________)			#
#  ) (__   _   _  _      _  _  _  _				#
# (   __) ( \ / )( \    / )| |/ |/ |				#
#  ) (     \ | /  \ \/\/ / |       |				#
# (___)     \_/	   \_/\_/  |_/|_/|_|  2.5.13 (cvs-Version)	#
# 								#
#  Legout's own .fvwm2rc file					#
#  								#
#								#  
#  Many thanks to						#
#								#
#  -Jaimos F Skriletz. This config is based on his great 	#
#	beginners guide on http://www.zensites.net/fvwm/guide/  #
#  								#
#  -taviso. I looked often into his config and found some 	#
#	usefull things, like fvwm-expose, and window-		#
#	thumbnailing. http://dev.gentoo.org/~taviso/fvwm2rc.html#		
#  								#
#  -chwombat for the Milk Decor and his xmms-/mpd-control 	#
#	http://chwombat.net/					#
#  								#
#  -The guy behind fvwm-crystal, I use some of his functions in #
#	here, like Fullscreen and the DockButtons-hide.		#
#	http://fvwm-crystal.berlios.de				#
#								#
#  I hope I don't forget someone. If someone see his own 	#
#	function in this .fvwm2rc and  haven't mentioned him, 	#
#	please contact me: volker at lorrmann dot de		#
#								#
#################################################################

#################################################
# Set Environment variables			#
#################################################
SetEnv fvwm_home $[HOME]/.fvwm
SetEnv fvwm_img $[fvwm_home]/images
SetEnv fvwm_icon $[fvwm_home]/icons
SetEnv fvwm_scrpt $[fvwm_home]/scripts
SetEnv fvwm_wallpapers /home/share/pics/backgrounds
SetEnv fvwm_tmp $[fvwm_home]/tmp

SetEnv fvwm_webbrowser /opt/mozilla/bin/firefox
SetEnv fvwm_term /opt/xfce4/bin/terminal
SetEnv fvwm_mail /opt/mozilla/bin/thunderbird
SetEnv fvwm_media_player /usr/bin/mpc
SetEnv fvwm_video_player /usr/bin/mplayer
SetEnV fvwm_root /usr/bin/feh -bg-scale

#################################################
# Set the image path				#
#################################################
ImagePath $[fvwm_icon]:$[fvwm_icon];.png:+:$[fvwm_icon]/milk:+
#ImagePath ${HOME}/.fvwm/icons:${HOME}/.fvwm/images/milk:+

#################################################
# Virtual Desktops				#
#################################################
DesktopSize 3x3
DesktopName 0 Desktop
EdgeScroll 0 0
EdgeResistance 0 0
EdgeThickness 1
SnapAttraction   15 All Screen

#################################################
# Mouse and Focus Behavior			#
#################################################
ClickTime 350
MoveThreshold 3
EwmhBaseStruts 64 0 0 0
IgnoreModifiers L25

#################################################
# CursorStyle					#
#################################################

#### Change style to left_ptr and fleur (missing cursors in my cursors theme)
CursorStyle root left_ptr
CursorStyle default left_ptr 
CursorStyle position left_ptr
CursorStyle sys left_ptr 
CursorStyle menu left_ptr
CursorStyle title left_ptr
CursorStyle resize fleur
CursorStyle stroke cross
CursorStyle select draped_box


#################################################
# Global options				#
#################################################
OpaqueMoveSize -1
Emulate MWM
HideGeometryWindow Never
SnapAttraction 5 SameType Screen
SnapGrid 3 3
XorValue 55555
SetAnimation  10  -.01 0 .01 .03 .08 .18 .3 .45 .6 .75 .85 .90 .94 .97 .99 1.0

#################################################
#						#
# 	Basic Bindings				#
#						#
#################################################
Read keys
Read mouse
Read strokage

#################################################
#						#
#   COLORSETS					#
#						#
#################################################
	
###Menu,Pager
Colorset 3 fg #444, bg #f5f5f5, hi #9c9e9c, sh #9c9e9c, IconAlpha 40, Tint grey 25, bgTint grey 15
Colorset 4 fg #121212, bg #c8c8c8, hi #c8c8c8, sh #9c9e9c,  IconAlpha 40, Tint white 15, bgTint white 15


###DockButtons
Colorset 15 fg rgb:00/00/00, bg average, \
  Tint Grey 50, bgTint white 40, Shape hover2.xpm 
Colorset 16 fg rgb:00/00/00, bg average, \
  Tint white 40, bgTint white 40

###MilkDecor
Colorset 0 fg #444, bg #f5f5f5, hi #9c9e9c, sh #9c9e9c, IconAlpha 70
Colorset 1 fg #121212, bg #c8c8c8, hi #c8c8c8, sh #9c9e9c,  IconAlpha 70

Colorset 11 fg #fff, bg #9c9e9c
Colorset 12 fg #888, bg #fff, IconAlpha 60
Colorset 13 fg #181818, bg white, IconAlpha 60

###Thumbnailed Icons
Colorset 5 fg #444, bg #f5f5f5, hi #9c9e9c, sh #9c9e9c, IconAlpha 60, Tint #f5f5f5 0, bgTint #444 0

###################################################
#						  #
#  STYLES					  #
#						  #
###################################################

Read stylin
###################################################
#						  #
#	FUNCTIONS				  #
###################################################
# DestroyFunc FuncName				  #
# AddToFunc   FuncName				  #
# + I (Action to happen immediately)		  #
# + C (Action to happen on a mouse 'click)	  #
# + D (Action to happen on a mouse 'double click')#
# + H (Action to happen on a mouse 'hold')	  #
# + M (Action to happen on a mouse 'motion')	  #
#						  #
###################################################

#################################################
# Basic Functions				#
#################################################
Read basicfunctions

#########################################
# Program Launching Functions		#
#########################################

Read progfunctions

#########################################
# Other functions			#
#########################################

##########
# Screenshot Functions (uses ImageMagick)	
##########
DestroyFunc FvwmWindowScreenshot
AddToFunc   FvwmWindowScreenshot
+ I ThisWindow (!Shaded !Iconic Iconifiable) \
  Exec import -window $[w.id] -quality 100 -silent \
  "$[fvwm_home]/screenshot/screenshot-`date +%F[%R]`.$[w.id].jpg"

DestroyFunc FvwmDesktopScreenshot
AddToFunc   FvwmDesktopScreenshot
+ I Exec sleep $0; import -window root -quality 100 -silent \
  "$[fvwm_home]/screenshot/screenshot-`date +%F[%R]`.jpg"

###############################
# FVWM-Crystal plugin: Fullscreen
# Written by: Maciej Delmanowski <harnir@linux.net.pl>

# Overview:
# After using this function, current window will lose it's border and title
# and will be maximized to the full screen (wow). After using Fullscreen
# function on a "fullscreened" window it will return to it's previous size and
# position and border/title will be brought back.
###############################


DestroyFunc Fullscreen
AddToFunc Fullscreen
+ I Fullscreen-Stop
+ I Current (!Maximizable) Break
+ I TestRc (False) Fullscreen-Start

DestroyFunc Fullscreen-Start
AddToFunc Fullscreen-Start
+ I Current (State 0) Break
+ I SetEnv OldX-$[w.id] $[w.x]
+ I SetEnv OldY-$[w.id] $[w.y]
+ I SetEnv OldWidth-$[w.id] $[w.width]
+ I SetEnv OldHeight-$[w.id] $[w.height]
+ I Move 0p 0p
+ I Resize 100 100 frame
#+ I Layer 0 5
+ I WindowStyle NoTitle, !Borders, StaysOnTop, !Iconifiable, !Maximizable
+ I State 0 true

DestroyFunc Fullscreen-Stop
AddToFunc Fullscreen-Stop
#+ I Current (!State 0) Break
+ I DestroyWindowStyle
+ I State 0 false
#+ I Layer 0 4
+ I PipeRead "echo ResizeMove \\$\\[OldWidth-$[w.id]\\]p \\$\\[OldHeight-$[w.id]\\]p \\$\\[OldX-$[w.id]\\]p \\$\\[OldY-$[w.id]\\]p"
###################
# Exit Shutdown Reboot					
###################

DestroyFunc Exit
AddToFunc Exit
+ I DestroyModuleConfig Exit: *
+ I *Exit: Font "Shadow=0 b bl r br r :xft:snap.se:pixelsize=10:minspace=True" 
+ I *Exit: ButtonFont "xft:Verdona:bold:pixelsize=10:minspace=True" 
+ I *Exit: Colorset 5
+ I *Exit: ItemColorset 5
+ I *Exit: Line center
+ I *Exit: Text "Are you sure you want to quit FVWM ?"
+ I *Exit: Line center
+ I *Exit: Line center
+ I *Exit: Line center
+ I *Exit: Button quit " Yes " ^M
+ I *Exit: Command Quit
+ I *Exit: Button quit " No " ^[
+ I *Exit: Command Nop
+ I *Exit: NoTitle
+ I *Exit: Border 1
+ I Module FvwmForm Exit
Style *Exit NoTitle

DestroyFunc Shutdown
AddToFunc Shutdown
+ I DestroyModuleConfig Shutdown: *
+ I *Shutdown: Font "Shadow=0 b bl r br r :xft:snap.se:pixelsize=10:minspace=True" 
+ I *Shutdown: ButtonFont "xft:snap.se:bold:pixelsize=10:minspace=True" 
+ I *Shutdown: Colorset 5
+ I *Shutdown: ItemColorset 5
+ I *Shutdown: Line center
+ I *Shutdown: Text "Are you sure you want to shutdown the system ?"
+ I *Shutdown: Line center
+ I *Shutdown: Line center
+ I *Shutdown: Line center
+ I *Shutdown: Button quit "Shutdown" ^M
+ I *Shutdown: Command Exec exec sudo /sbin/shutdown -h now 
+ I *Shutdown: Button quit " Cancel " ^]
+ I *Shutdown: Command Nop
+ I *Shutdown: NoTitle
+ I *Shutdown: Border 1
+ I Module FvwmForm Shutdown
Style *Shutdown NoTitle

DestroyFunc Reboot
AddToFunc Reboot
+ I DestroyModuleConfig Reboot: *
+ I *Reboot: Font "Shadow=0 b bl r br r :xft:snap.se:pixelsize=10:minspace=True" 
+ I *Reboot: ButtonFont "xft:Verdona:bold:pixelsize=10:minspace=True" 
+ I *Reboot: Colorset 5
+ I *Reboot: ItemColorset 5
+ I *Reboot: Line center
+ I *Reboot: Text "Are you sure you want to shutdown the system ?"
+ I *Reboot: Line center
+ I *Reboot: Line center
+ I *Reboot: Line center
+ I *Reboot: Button quit "Reboot" ^M
+ I *Reboot: Command Exec exec sudo /sbin/shutdown -r now
+ I *Reboot: Button quit " Cancel " ^]
+ I *Reboot: Command Nop
+ I *Reboot: NoTitle
+ I *Reboot: Border 1
+ I Module FvwmForm Reboot
+ I *Reboot NoTitle
Style *Reboot NoTitle


#########################################
# Startup Functions			#
#########################################
DestroyFunc StartFunction
AddToFunc   StartFunction
+ I Module FvwmPager * * 
+ I Module FvwmEvent
+ I Module FvwmProxy
+ I Module FvwmBacker
+ I Module FvwmButtons
#+ I Module FvwmTaskBar

DestroyFunc InitFunction
AddToFunc   InitFunction
+ I Exec exec fbsetbg -l
+ I Exec exec unclutter
+ I Exec term_tiny -geometry 21x5+0+200
#+ I Exec exec wmCalClock -bc "#789C68" -tc black -pos +10000+10000
#+ I Exec exec bubblemon -d -g +10000+10000
#+ I Exec exec asmail -l -x 400000


DestroyFunc RestartFunction
AddToFunc   RestartFunction
+ I All (Iconic) ReThumbnail


#################################################
#						#
#   Window Decoration	MILK			#
#						#
#################################################
#Colorset 0 fg #444, Translucent white 30, bg #f5f5f5, hi #9c9e9c, sh #9c9e9c, IconAlpha 70
#Colorset 1 fg #121212, Translucent white 30, bg #c8c8c8, hi #c8c8c8, sh #9c9e9c,  IconAlpha 70

#Colorset 11 fg #fff, bg #9c9e9c
#Colorset 12 fg #888, bg #fff, IconAlpha 60
#Colorset 13 fg #181818, bg white, IconAlpha 60

DefaultColorset 0
DefaultFont "Shadow=1 se:xft:snap.se:size=9"
#DefaultFont "Shadow=1 1 SE:xft:Concielian:pixelsize=12"
Style * Colorset 12
Style * HilightColorset 13

Style * BorderColorset  11
Style * HilightBorderColorset  11

# Makes the Maximize button toggle when you maximize a window.
Style * MWMButtons

# 1px border, no handles please.
Style * BorderWidth 1
Style * NoHandles
Style * Borders



# My menu style.



#MenuStyle * Font "Shadow=1 se:xft:Lucida Grande:size=8"
MenuStyle * Font "Shadow=1 se:xft:snap.se:size=8:antialias=True"
MenuStyle * MenuColorset 0
MenuStyle * ActiveColorset 1 
MenuStyle * HilightBack
MenuStyle * Hilight3DOff
MenuStyle * BorderWidth 1
MenuStyle * ItemFormat "%5p%i%6p%l%5p%>%2p"
# Animatedly slide menus around if there's no room for them.
MenuStyle * Animation
# Warp the mouse to the menu title when a submenu pops up?  No thanks.
MenuStyle * TitleWarpOff
# My titles ARE underlines (actually a transparent png), so 0 underlines under my underlines please.
MenuStyle * TitleUnderlines0
MenuStyle * PopdownDelayed
MenuStyle * RemoveSubmenus
MenuStyle * VerticalItemSpacing 0 5
MenuStyle * PopupOffset 0 100
# I don't use the keyboard to browse my menus, so keep hotkeys out of it.
MenuStyle * AutomaticHotkeysOff
MenuStyle * TrianglesSolid

# This will let you mouseover items in a menu without anything happening; if you move the mouse out the right side of a menu item, THEN it pops up a submenu.  This makes whipping the mouse up and down the menu faster, because there's no lag from submenus popping up.  It's rather like flicking the menus open with a mouse movement.  This is especially needed because of the mail browser menu, which pops up very slowly and freezes the menu while it's loading.  
MenuStyle * PopupDelayed
MenuStyle * PopupDelay 0
MenuStyle * PopdownImmediatel



# Window decorations.



TitleStyle AllActive StretchedPixmap back.png
TitleStyle AllInactive StretchedPixmap back2.png
TitleStyle -- flat
TitleStyle Height 21

# The Stick and Maximize buttons toggle based on the state of the window.
ButtonStyle All -- flat
AddButtonStyle 1 ActiveUp (Pixmap nostick.png -- flat)
AddButtonStyle 1 ActiveDown (Pixmap nostick.png -- flat)
AddButtonStyle 1 ToggledActive (Pixmap stick.png -- flat)
AddButtonStyle 1 ToggledInactive (Pixmap stick2.png -- flat)
AddButtonStyle 1 Inactive (Pixmap nostick2.png -- flat)
AddButtonStyle 2 ActiveUp (Pixmap close.png -- flat)
AddButtonStyle 2 ActiveDown (Pixmap close_push.png -- flat)
AddButtonStyle 2 Inactive (Pixmap close2.png -- flat)
AddButtonStyle 4 ActiveUp (Pixmap max.png  -- flat)
AddButtonStyle 4 ActiveDown (Pixmap max_push.png -- flat)
AddButtonStyle 4 Inactive (Pixmap max2.png -- flat)
AddButtonStyle 4 ToggledActiveUp (Pixmap maxed.png -- flat)
AddButtonStyle 4 ToggledActiveDown (Pixmap maxed_push.png -- flat)
AddButtonStyle 4 ToggledInactive (Pixmap maxed2.png -- flat)
AddButtonStyle 6 ActiveUp (Pixmap min.png -- flat)
AddButtonStyle 6 ActiveDown (Pixmap min_push.png  -- flat)
AddButtonStyle 6 Inactive (Pixmap min2.png  -- flat)

# Toggle these buttons.
ButtonStyle 1 - MwmDecorStick
ButtonStyle 2 - Clear
ButtonStyle 4 - MwmDecorMax

#Read fvwmTaskbar
Read menu
#########################################################
#							#
#   MODULES						#
#							#
#########################################################

#Colorset 3 fg #444, RootTransparent, bg #f5f5f5, hi #9c9e9c, sh #9c9e9c, IconAlpha 40, Tint grey 25, bgTint grey 15
#Colorset 4 fg #121212, RootTransparent, bg #c8c8c8, hi #c8c8c8, sh #9c9e9c,  IconAlpha 40, Tint white 15, bgTint white 15

#########################################################
# FvwmIdent 						#
#########################################################
DestroyModuleConfig FvwmIdent: *
*FvwmIdent: Colorset 3
#*FvwmIdent: Font "Shadow=1 se:xft:Lucida Grande:size=8:antialias=True"
*FvwmIdent: Font "Shadow=1 se:xft:snap.se:size=8:antialias=True"


#########################################################
# FvwmTaskBar						#
#########################################################
Style "FvwmTaskBar" NoTitle, !Handles, !Borders, Sticky, WindowListSkip, \
  CirculateSkip, StaysOnBottom, FixedPosition, FixedSize, !Iconifiable

#DestroyModuleConfig FvwmTaskBar: *
#*FvwmTaskBar: Geometry 1290x34+0+0
#*FvwmTaskBar: Rows 1
#*FvwmTaskBar: Font "Shadow=1 se:xft:Lucida Grande:size=10:antialias=True"
#*FvwmTaskBar: SelFont "Shadow=1 se:xft:Lucida Grande:size=10:antialias=True"
#*FvwmTaskBar: StatusFont "Shadow=1 se:xft:Lucida Grande:size=10:antialias=True"
#*FvwmTaskBar: Colorset 3
#*FvwmTaskBar: IconColorset 3
#*FvwmTaskBar: FocusColorset 3
#*FvwmTaskBar: TipsColorset 3
#*FvwmTaskBar: UseSkipList
#*FvwmTaskBar: UseIconNames
#*FvwmTaskBar: ShowTips
#*FvwmTaskBar: StartName Sivo
#*FvwmTaskBar: StartMenu FvwmRootMenu
#*FvwmTaskBar: Button Title Terminal, Icon mini/xterm.png, Action (Mouse 1) FvwmTerm
#*FvwmTaskBar: Action Click3 Menu FvwmWindowOpsMenu
#*FvwmTaskBar: StartIcon mini/fvwm.png

DestroyModuleConfig FvwmEvent: *
*FvwmEvent: deiconify DeThumbnail

#########################################################
# FvwmAnimate						#
#########################################################

DestroyModuleConfig FvwmAnimate: *
*FvwmAnimate: Color white
*FvwmAnimate: Effect flip
*FvwmAnimate: Delay 0
*FvwmAnimate: Iterations 50
*FvwmAnimate: Width 2

#########################################################
#							#
# FvwmProxy						#
#						        #
# Hit Alt+Esc to toggle FvwmProxy, which allows you to 	#
# see all windows on your desktop, even if they've been	#
# obscured..really cool.				#
#########################################################
DestroyModuleConfig FvwmProxy: *
*FvwmProxy: Font "xft:snap;-artwiz-snap-*-r-*-*-*-*-*-*-*-*-iso8859-1"
*FvwmProxy: ProxyMove false

Key Escape  A   M   SendToModule FvwmProxy ShowToggle

#########################################################
#							#
#	FvwmButtons					#
#							#
#########################################################
# Fvwm uses this function when selecting windows from the WindwList command
# you can make this function do any thing you like, it is executed in the context
# of the selected window.
AddToFunc WindowListFunc I WarpToWindow 50 50



#################################################################################
# Arguments should be: DockLaunch <command> <class/resource> $left $top		#
# 										#
# Single Click if there are no other windows open will start a new window.	#
# Single Click with existing app will Focus the next app.			#
# Double Click will always start a new app.					#
# Hold will open a WindowList of matching apps.					#
#										#
# Why does single click take a second? fvwm waits to see if you are double-clicking,
# either reduce your ClickTime setting, or remove the + D line.			#
#################################################################################

Read osdfunc
#########################################################
#SysTray						#
#########################################################

#Style "SysTray" !Title, !Handles, Sticky, WindowListSkip, \
#        CirculateSkip, BorderWidth 1, HandleWidth 0


#DestroyModuleConfig SysTray: *
#*SysTray: Geometry 150x50-10-10 
#*SysTray: Colorset 15
#*SysTray: Rows 1
#*SysTray: Font "Shadow=1 se:xft:snap.se:size=8:antialias=True"
#*SysTray: Columns 6
#*SysTray: (1x1, Frame 0)
#*SysTray: (4x1, Frame 0,  Swallow "trayer", 'Exec exec trayer --widthtype pixel --width 120 --heighttype pixel --height 40 --transparent true')
#*SysTray: (4x1, Frame 0,  Swallow "docker", `Exec exec docker -iconsize 16`)
#*SysTray: (1x1, Frame 0)
####
# Set Up Backgrounds for different desktop pages (2 desks, 3x2 pages).
####
#*FvwmBacker: Command (Page 2 *) -solid steelblue
#*FvwmBacker: Command (Desk 0, Page 0 0) Exec fvwm-root $[HOME]/bg2.xpm
#*FvwmBacker: Command (Desk 0, Page 0 1) -solid midnightblue
#*FvwmBacker: Command (Desk 0, Page 1 *) -solid yellow
Read playerfunctions
################################ Module Config ################################

*FvwmPager: Geometry           -10000-10000
*FvwmPager: MiniIcons
*FvwmPager: Colorset *         2
*FvwmPager: HilightColorset *  3
*FvwmPager: WindowColorsets    4 5
*FvwmPager: Window3DBorders

*FvwmButtons: ButtonGeometry   64x64+0+0
*FvwmButtons: Columns          1
*FvwmButtons: Back             #808080
*FvwmButtons: Frame            1
*FvwmButtons: (1x1, Swallow "FvwmPager" 'FvwmPager *')
